{"title":"install-postgresql","uid":"0f9872cd2012b3a0a3679fbaa05b5e0a","slug":"install-postgresql","date":"2023-11-16T16:01:55.000Z","updated":"2023-11-16T17:33:24.414Z","comments":true,"path":"api/articles/install-postgresql.json","keywords":null,"cover":"https://pic.nas.rodzrk.cn:28443/i/2023/11/17/6556516e5a222.jpg","content":"<h1 id=\"源码编译安装\"><a href=\"#源码编译安装\" class=\"headerlink\" title=\"源码编译安装\"></a>源码编译安装</h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>编译根目录地址：**&#x2F;opt**** **</p></blockquote>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>安装根目录地址：**&#x2F;data**** **</p></blockquote>\n<h2 id=\"操作步骤简介\"><a href=\"#操作步骤简介\" class=\"headerlink\" title=\"操作步骤简介\"></a>操作步骤简介</h2><ul>\n<li>下载源码</li>\n<li>编译安装<ul>\n<li><code>./configure</code></li>\n<li><code>make</code></li>\n<li><code>make install</code></li>\n</ul>\n</li>\n<li>使用<code>initdb</code> 命令初始化数据库簇（数据库簇：数据库实例管理的系统文件及各个数据库文件的集合。）</li>\n<li>启动数据库实例</li>\n<li>创建一个应用使用的数据库</li>\n</ul>\n<h2 id=\"源码下载解压\"><a href=\"#源码下载解压\" class=\"headerlink\" title=\"源码下载解压\"></a>源码下载解压</h2><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6A737D\"># wget --no-check-certificate  https://ftp.postgresql.org/pub/source/v15.3/postgresql-15.3.tar.gz</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># 华为云镜像地址</span></span>\n<span class=\"line\"><span style=\"color: #005CC5\">cd</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">/opt</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">wget</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">https://repo.huaweicloud.com/postgresql/source/v15.3/postgresql-15.3.tar.gz</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">tar</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">zxvf</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">postgresql-15.3.tar.gz</span></span></code></pre></div><h2 id=\"编译安装\"><a href=\"#编译安装\" class=\"headerlink\" title=\"编译安装\"></a>编译安装</h2><p>依赖组件安装</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6A737D\"># 在默认情况下一般要使用数据库中的压缩功能，该功能需要第三方的zlib压缩开发包支持；在Red Hat/CentOS中，该开发包名字后面带“-devel”，而在Ubuntu中是“-dev”</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># CentOS中通过如下命令查找zlib开发包,如下所示，zlib-devel.x86_64为所需开发包</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">yum</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">search</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">zlib</span><span style=\"color: #D73A49\">|</span><span style=\"color: #6F42C1\">grep</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">devel</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">ghc-zlib-devel.x86_64</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Haskell</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">zlib</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">library</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">development</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">files</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">zlib-devel.x86_64</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Header</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">and</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">libraries</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">for</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Zlib</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">development</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">zlib-devel.i686</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Header</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">and</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">libraries</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">for</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Zlib</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">development</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">zlibrary-devel.x86_64</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Development</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">for</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">zlibrary</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">genwqe-zlib-devel.i686</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Development</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">for</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">genwqe-tools</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">genwqe-zlib-devel.x86_64</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Development</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">for</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">genwqe-tools</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># Ubuntu18.04下，包名为“zlib1g-dev”</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">apt-get</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">install</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">zlib1g-dev</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># 如果想要方便在psql中使用上下方向键查找历史命令，还需要安装readline开发包，用相似方法可以找到含“readline”和“devel”的包，如图所示，“readline-devel.x86_64”为所需开发包</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">yum</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">search</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">readline</span><span style=\"color: #D73A49\">|</span><span style=\"color: #6F42C1\">grep</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">devel</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">compat-golang-github-chzyer-readline-devel.noarch</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Pure</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Go</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">implementation</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">of</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">GNU</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Readline-like</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">library</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">golang-gopkg-readline-1-devel.noarch</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Pure</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Go</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">implementation</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">of</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">GNU</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Readline-like</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">library</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">readline-devel.i686</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">needed</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">to</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">develop</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">programs</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">which</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">use</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">the</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">readline</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">library</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">readline-devel.x86_64</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">needed</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">to</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">develop</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">programs</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">which</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">use</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">the</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">readline</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">library</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">tcl-tclreadline-devel.x86_64</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Development</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">for</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">the</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">tclreadline</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">library</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\">#在Ubuntu16.04下，为libreadline-dev ？libreadline6-dev</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">apt-get</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">install</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">libreadline-dev</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># --with-perl：加上该选项才能使用Perl语法的PL/Perl过程语言来编写自定义函数。使用该选项需要先安装perl开发包，使用如下命令在Ubuntu或Debian下安装</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">apt-get</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">install</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">libperl-dev</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># --with-python：加上该选项才能使用Python语法的PL/Python过程语言来编写自定义函数。使用该选项需要先安装python-dev开发包，使用如下命令在Ubuntu或Debian下安装；</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">apt-get</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">install</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">python-dev</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># 安装gcc套件</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># yum install gcc</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">apt-get</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">install</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">gcc</span></span></code></pre></div><p>编译安装</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #005CC5\">cd</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">/opt/postgresql-15.3</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">./configure</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">--prefix=/data/postgresql/15.3</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">--with-perl</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">--with-python</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">make</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">make</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">install</span></span></code></pre></div><p>问题记录</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6A737D\"># ./configure --with-python时部分情况下可能出现以下编译报错</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">checking</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Python.h</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">usability...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">no</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">checking</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Python.h</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">presence...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">no</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">checking</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">for</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Python.h...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">no</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">configure:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">error:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">header</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">file</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">&lt;</span><span style=\"color: #032F62\">Python.</span><span style=\"color: #24292E\">h</span><span style=\"color: #D73A49\">&gt;</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">is</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">required</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">for</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Python</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># 原因可能是环境中Python过多，编译使用的Python版本未安装开发包</span></span></code></pre></div><h2 id=\"安装contrib下工具\"><a href=\"#安装contrib下工具\" class=\"headerlink\" title=\"安装contrib下工具\"></a>安装contrib下工具</h2><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #005CC5\">cd</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">/opt/postgresql-15.3/contrib</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">make</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">make</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">install</span></span></code></pre></div><h2 id=\"PostgresSQL配置\"><a href=\"#PostgresSQL配置\" class=\"headerlink\" title=\"PostgresSQL配置\"></a>PostgresSQL配置</h2><h3 id=\"环境变量配置\"><a href=\"#环境变量配置\" class=\"headerlink\" title=\"环境变量配置\"></a>环境变量配置</h3><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6A737D\"># 配置可执行文件的路径</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">PGSQL_HOME</span><span style=\"color: #D73A49\">=</span><span style=\"color: #032F62\">/data/postgresql/15.3</span></span>\n<span class=\"line\"><span style=\"color: #D73A49\">export</span><span style=\"color: #24292E\"> PATH</span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\">$PGSQL_HOME</span><span style=\"color: #032F62\">/bin:</span><span style=\"color: #24292E\">$PATH</span></span>\n<span class=\"line\"><span style=\"color: #D73A49\">export</span><span style=\"color: #24292E\"> LD_LIBRARY_PATH</span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\">$PGSQL_HOME</span><span style=\"color: #032F62\">/lib</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># 配置数据目录</span></span>\n<span class=\"line\"><span style=\"color: #D73A49\">export</span><span style=\"color: #24292E\"> PGDATA</span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\">$PGSQL_HOME</span><span style=\"color: #032F62\">/pgdata</span></span></code></pre></div><h3 id=\"初始化数据库\"><a href=\"#初始化数据库\" class=\"headerlink\" title=\"初始化数据库\"></a>初始化数据库</h3><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6A737D\"># 需要先判断有无pg用户，不使用root初始化数据库，不存在则创建用户postgres；如下为ubuntu创建命令</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">adduser</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">postgres</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># 赋权</span></span>\n<span class=\"line\"><span style=\"color: #005CC5\">cd</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">/data</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">chown</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">-R</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">postgres</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">postgresql/</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">chmod</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">-R</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">777</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">postgresql/</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">postgres@ubuntu:/data/postgresql/15.3$</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">initdb</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">The</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">belonging</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">to</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">this</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">database</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">system</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">will</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">be</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">owned</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">by</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">user</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&quot;postgres&quot;.</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">This</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">user</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">must</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">also</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">own</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">the</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">server</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">process.</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">The</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">database</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">cluster</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">will</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">be</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">initialized</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">with</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">locale</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&quot;en_US.UTF-8&quot;.</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">The</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">default</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">database</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">encoding</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">has</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">accordingly</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">been</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">set</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">to</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&quot;UTF8&quot;.</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">The</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">default</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">text</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">search</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">configuration</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">will</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">be</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">set</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">to</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&quot;english&quot;.</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">Data</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">page</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">checksums</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">are</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">disabled.</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">creating</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">directory</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">/data/postgresql/15.3/pgdata</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">ok</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">creating</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">subdirectories</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">ok</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">selecting</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">dynamic</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">shared</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">memory</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">implementation</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">posix</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">selecting</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">default</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">max_connections</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">100</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">selecting</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">default</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">shared_buffers</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">128</span><span style=\"color: #032F62\">MB</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">selecting</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">default</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">time</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">zone</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">Asia/Shanghai</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">creating</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">configuration</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">files</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">ok</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">running</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">bootstrap</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">script</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">ok</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">performing</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">post-bootstrap</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">initialization</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">ok</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">syncing</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">data</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">to</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">disk</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">...</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">ok</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">initdb:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">warning:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">enabling</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&quot;trust&quot;</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">authentication</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">for</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">local</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">connections</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">initdb:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">hint:</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">You</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">can</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">change</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">this</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">by</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">editing</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">pg_hba.conf</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">or</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">using</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">the</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">option</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">-A,</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">or</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">--auth-local</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">and</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">--auth-host,</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">the</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">next</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">time</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">you</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">run</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">initdb.</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">Success.</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">You</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">can</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">now</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">start</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">the</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">database</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">server</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">using:</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #6F42C1\">pg_ctl</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">-D</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">/data/postgresql/15.3/pgdata</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">-l</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">logfile</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">start</span></span></code></pre></div><h3 id=\"支持远程访问\"><a href=\"#支持远程访问\" class=\"headerlink\" title=\"支持远程访问\"></a>支持远程访问</h3><p>更新<code>$PGDATA</code> 下<code>pg_hba.conf</code> 文件</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6A737D\"># 在文件中加入如下命令：允许任何用户远程连接数据库，连接是需要提供密码</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># pg_hba.conf文件是一个黑白名单的访问控制文件，可以控制允许哪些IP地址的机器访问数据库</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">host</span><span style=\"color: #24292E\">    </span><span style=\"color: #032F62\">all</span><span style=\"color: #24292E\">             </span><span style=\"color: #032F62\">all</span><span style=\"color: #24292E\">             </span><span style=\"color: #005CC5\">0</span><span style=\"color: #032F62\">/0</span><span style=\"color: #24292E\">                     </span><span style=\"color: #032F62\">md5</span></span></code></pre></div><p>更新<code>$PGDATA</code> 下<code>postgresql.conf</code>文件</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6A737D\"># 修改监听地址为监听所有地址</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">listen_addresses</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&#39;*&#39;</span></span></code></pre></div><h3 id=\"更新用户默认密码\"><a href=\"#更新用户默认密码\" class=\"headerlink\" title=\"更新用户默认密码\"></a>更新用户默认密码</h3><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6A737D\"># 登录postgres用户</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">su</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">postgres</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># 执行psql，并更新默认密码并退出</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">psql</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">postgres</span><span style=\"color: #D73A49\">=</span><span style=\"color: #032F62\">#</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\">ALTER</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">USER</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">postgres</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">WITH</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">password</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&#39;password&#39;</span><span style=\"color: #24292E\">;</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">ALTER</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">ROLE</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">postgres</span><span style=\"color: #D73A49\">=</span><span style=\"color: #032F62\">#</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\">\\q</span></span></code></pre></div><h3 id=\"日志相关配置\"><a href=\"#日志相关配置\" class=\"headerlink\" title=\"日志相关配置\"></a>日志相关配置</h3><p>更新<code>$PGDATA</code> 下<code>postgresql.conf</code>文件</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6A737D\"># 打开日志采集</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">logging_collector</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">on</span></span>\n<span class=\"line\"><span style=\"color: #6A737D\"># 配置日志目录</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_directory</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&#39;log&#39;</span></span></code></pre></div><p>日志切换和覆盖策略：</p>\n<p>方案一：每天生成1个新的日志文件</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6F42C1\">log_filename</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&#39;postgresql-%Y-%m-%d_%H%M%S.log&#39;</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_truncate_on_rotation</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">off</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_rotation_age</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">1</span><span style=\"color: #032F62\">d</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_rotation_size</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">0</span></span></code></pre></div><p>方案二：每当日志写满一定大小，则切换一个日志</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6F42C1\">log_filename</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&#39;postgresql-%Y-%m-%d_%H%M%S.log&#39;</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_truncate_on_rotation</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">off</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_rotation_age</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">0</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_rotation_size</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">10</span><span style=\"color: #032F62\">M</span></span></code></pre></div><p>方案三：只保留最近7天的日志，进行循环覆盖</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6F42C1\">log_filename</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&#39;postgresql-%a.log&#39;</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_truncate_on_rotation</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">on</span><span style=\"color: #24292E\"> </span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_rotation_age</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">1</span><span style=\"color: #032F62\">d</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">log_rotation_size</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">0</span></span></code></pre></div><h3 id=\"启停数据库\"><a href=\"#启停数据库\" class=\"headerlink\" title=\"启停数据库\"></a>启停数据库</h3><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6F42C1\">pg_ctl</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">start</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">-D</span><span style=\"color: #24292E\"> $PGDATA</span></span>\n<span class=\"line\"><span style=\"color: #6F42C1\">pg_ctl</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">stop</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">-D</span><span style=\"color: #24292E\"> $PGDATA</span></span></code></pre></div><h3 id=\"生产环境配置生成\"><a href=\"#生产环境配置生成\" class=\"headerlink\" title=\"生产环境配置生成\"></a>生产环境配置生成</h3><p><a href=\"https://pgtune.leopard.in.ua/#/\">pgtune</a></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>pgtune提供了基于经验的生产环境使用的默认配置，如下图</p></blockquote>\n<p><img src=\"https://pic.nas.rodzrk.cn:28443/i/2023/11/17/6556523017255.png\" alt=\"image\"></p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #24292e\"># DB Version: 15</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># OS Type: linux</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># DB Type: web</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Total Memory (RAM): 16 GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># CPUs num: 4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Data Storage: hdd</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_connections = 200</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">shared_buffers = 4GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">effective_cache_size = 12GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">maintenance_work_mem = 1GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">checkpoint_completion_target = 0.9</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">wal_buffers = 16MB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">default_statistics_target = 100</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">random_page_cost = 4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">effective_io_concurrency = 2</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">work_mem = 10485kB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">min_wal_size = 1GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_wal_size = 4GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_worker_processes = 4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_parallel_workers_per_gather = 2</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_parallel_workers = 4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_parallel_maintenance_workers = 2</span></span></code></pre></div><h2 id=\"配置示例\"><a href=\"#配置示例\" class=\"headerlink\" title=\"配置示例\"></a>配置示例</h2><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki github-light\" style=\"background-color: #f6f6f7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #24292e\"># -----------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># PostgreSQL configuration file</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># -----------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># This file consists of lines of the form:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#   name = value</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># (The &quot;=&quot; is optional.)  Whitespace may be used.  Comments are introduced with</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># &quot;#&quot; anywhere on a line.  The complete list of parameter names and allowed</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># values can be found in the PostgreSQL documentation.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># The commented-out settings shown in this file represent the default values.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Re-commenting a setting is NOT sufficient to revert it to the default value;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># you need to reload the server.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># This file is read on server startup and when the server receives a SIGHUP</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># signal.  If you edit the file on a running system, you have to SIGHUP the</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># server for the changes to take effect, run &quot;pg_ctl reload&quot;, or execute</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># &quot;SELECT pg_reload_conf()&quot;.  Some parameters, which are marked below,</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># require a server shutdown and restart to take effect.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Any parameter can also be given as a command-line option to the server, e.g.,</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># &quot;postgres -c log_connections=on&quot;.  Some parameters can be changed at run time</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># with the &quot;SET&quot; SQL command.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Memory units:  B  = bytes            Time units:  us  = microseconds</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#                kB = kilobytes                     ms  = milliseconds</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#                MB = megabytes                     s   = seconds</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#                GB = gigabytes                     min = minutes</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#                TB = terabytes                     h   = hours</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#                                                   d   = days</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># FILE LOCATIONS</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># The default values of these variables are driven from the -D command-line</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># option or PGDATA environment variable, represented here as ConfigDir.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#data_directory = &#39;ConfigDir&#39;\t\t# use data in another directory</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#hba_file = &#39;ConfigDir/pg_hba.conf&#39;\t# host-based authentication file</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ident_file = &#39;ConfigDir/pg_ident.conf&#39;\t# ident configuration file</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># If external_pid_file is not explicitly set, no extra PID file is written.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#external_pid_file = &#39;&#39;\t\t\t# write an extra PID file</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># CONNECTIONS AND AUTHENTICATION</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Connection Settings -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#listen_addresses = &#39;localhost&#39;\t\t# what IP address(es) to listen on;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # comma-separated list of addresses;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # defaults to &#39;localhost&#39;; use &#39;*&#39; for all</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#port = 5432\t\t\t\t# (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_connections = 100\t\t\t# (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#superuser_reserved_connections = 3\t# (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#unix_socket_directories = &#39;/tmp&#39;\t# comma-separated list of directories</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#unix_socket_group = &#39;&#39;\t\t\t# (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#unix_socket_permissions = 0777\t\t# begin with 0 to use octal notation</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#bonjour = off\t\t\t\t# advertise server via Bonjour</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#bonjour_name = &#39;&#39;\t\t\t# defaults to the computer name</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - TCP settings -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># see &quot;man tcp&quot; for details</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#tcp_keepalives_idle = 0\t\t# TCP_KEEPIDLE, in seconds;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # 0 selects the system default</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#tcp_keepalives_interval = 0\t\t# TCP_KEEPINTVL, in seconds;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # 0 selects the system default</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#tcp_keepalives_count = 0\t\t# TCP_KEEPCNT;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # 0 selects the system default</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#tcp_user_timeout = 0\t\t\t# TCP_USER_TIMEOUT, in milliseconds;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # 0 selects the system default</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#client_connection_check_interval = 0\t# time between checks for client</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # disconnection while running queries;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # 0 for never</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Authentication -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#authentication_timeout = 1min\t\t# 1s-600s</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#password_encryption = scram-sha-256\t# scram-sha-256 or md5</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#db_user_namespace = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># GSSAPI using Kerberos</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#krb_server_keyfile = &#39;FILE:$&#123;sysconfdir&#125;/krb5.keytab&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#krb_caseins_users = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - SSL -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_ca_file = &#39;&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_cert_file = &#39;server.crt&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_crl_file = &#39;&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_crl_dir = &#39;&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_key_file = &#39;server.key&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_ciphers = &#39;HIGH:MEDIUM:+3DES:!aNULL&#39; # allowed SSL ciphers</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_prefer_server_ciphers = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_ecdh_curve = &#39;prime256v1&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_min_protocol_version = &#39;TLSv1.2&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_max_protocol_version = &#39;&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_dh_params_file = &#39;&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_passphrase_command = &#39;&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#ssl_passphrase_command_supports_reload = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># RESOURCE USAGE (except WAL)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Memory -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#shared_buffers = 128MB\t\t\t# min 128kB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#huge_pages = try\t\t\t# on, off, or try</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#huge_page_size = 0\t\t\t# zero for system default</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#temp_buffers = 8MB\t\t\t# min 800kB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_prepared_transactions = 0\t\t# zero disables the feature</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Caution: it is not advisable to set max_prepared_transactions nonzero unless</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># you actively intend to use prepared transactions.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#work_mem = 4MB\t\t\t\t# min 64kB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#hash_mem_multiplier = 2.0\t\t# 1-1000.0 multiplier on hash table work_mem</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#maintenance_work_mem = 64MB\t\t# min 1MB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_work_mem = -1\t\t# min 1MB, or -1 to use maintenance_work_mem</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#logical_decoding_work_mem = 64MB\t# min 64kB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_stack_depth = 2MB\t\t\t# min 100kB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#shared_memory_type = mmap\t\t# the default is the first option</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # supported by the operating system:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   mmap</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   sysv</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   windows</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">dynamic_shared_memory_type = posix\t# the default is usually the first option</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # supported by the operating system:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   posix</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   sysv</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   windows</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   mmap</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#min_dynamic_shared_memory = 0MB\t# (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Disk -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#temp_file_limit = -1\t\t\t# limits per-process temp file space</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # in kilobytes, or -1 for no limit</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Kernel Resources -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_files_per_process = 1000\t\t# min 64</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Cost-Based Vacuum Delay -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_cost_delay = 0\t\t\t# 0-100 milliseconds (0 disables)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_cost_page_hit = 1\t\t# 0-10000 credits</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_cost_page_miss = 2\t\t# 0-10000 credits</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_cost_page_dirty = 20\t\t# 0-10000 credits</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_cost_limit = 200\t\t# 1-10000 credits</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Background Writer -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#bgwriter_delay = 200ms\t\t\t# 10-10000ms between rounds</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#bgwriter_lru_maxpages = 100\t\t# max buffers written/round, 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#bgwriter_lru_multiplier = 2.0\t\t# 0-10.0 multiplier on buffers scanned/round</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#bgwriter_flush_after = 512kB\t\t# measured in pages, 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Asynchronous Behavior -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#backend_flush_after = 0\t\t# measured in pages, 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#effective_io_concurrency = 1\t\t# 1-1000; 0 disables prefetching</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#maintenance_io_concurrency = 10\t# 1-1000; 0 disables prefetching</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_worker_processes = 8\t\t# (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_parallel_workers_per_gather = 2\t# taken from max_parallel_workers</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_parallel_maintenance_workers = 2\t# taken from max_parallel_workers</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_parallel_workers = 8\t\t# maximum number of max_worker_processes that</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # can be used in parallel operations</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#parallel_leader_participation = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#old_snapshot_threshold = -1\t\t# 1min-60d; -1 disables; 0 is immediate</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># WRITE-AHEAD LOG</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Settings -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_level = replica\t\t\t# minimal, replica, or logical</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#fsync = on\t\t\t\t# flush data to disk for crash safety</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (turning this off can cause</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # unrecoverable data corruption)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#synchronous_commit = on\t\t# synchronization level;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # off, local, remote_write, remote_apply, or on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_sync_method = fsync\t\t# the default is the first option</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # supported by the operating system:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   open_datasync</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   fdatasync (default on Linux and FreeBSD)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   fsync</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   fsync_writethrough</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   open_sync</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#full_page_writes = on\t\t\t# recover from partial page writes</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_log_hints = off\t\t\t# also do full page writes of non-critical updates</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_compression = off\t\t\t# enables compression of full-page writes;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # off, pglz, lz4, zstd, or on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_init_zero = on\t\t\t# zero-fill new WAL files</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_recycle = on\t\t\t# recycle WAL files</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_buffers = -1\t\t\t# min 32kB, -1 sets based on shared_buffers</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_writer_delay = 200ms\t\t# 1-10000 milliseconds</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_writer_flush_after = 1MB\t\t# measured in pages, 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_skip_threshold = 2MB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#commit_delay = 0\t\t\t# range 0-100000, in microseconds</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#commit_siblings = 5\t\t\t# range 1-1000</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Checkpoints -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#checkpoint_timeout = 5min\t\t# range 30s-1d</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#checkpoint_completion_target = 0.9\t# checkpoint target duration, 0.0 - 1.0</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#checkpoint_flush_after = 256kB\t\t# measured in pages, 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#checkpoint_warning = 30s\t\t# 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_wal_size = 1GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#min_wal_size = 80MB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Prefetching during recovery -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_prefetch = try\t\t# prefetch pages referenced in the WAL?</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_decode_buffer_size = 512kB\t\t# lookahead window used for prefetching</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Archiving -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#archive_mode = off\t\t# enables archiving; off, on, or always</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#archive_library = &#39;&#39;\t\t# library to use to archive a logfile segment</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (empty string indicates archive_command should</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # be used)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#archive_command = &#39;&#39;\t\t# command to use to archive a logfile segment</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # placeholders: %p = path of file to archive</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                #               %f = file name only</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # e.g. &#39;test ! -f /mnt/server/archivedir/%f &amp;&amp; cp %p /mnt/server/archivedir/%f&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#archive_timeout = 0\t\t# force a logfile segment switch after this</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # number of seconds; 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Archive Recovery -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># These are only used in recovery mode.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#restore_command = &#39;&#39;\t\t# command to use to restore an archived logfile segment</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # placeholders: %p = path of file to restore</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                #               %f = file name only</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # e.g. &#39;cp /mnt/server/archivedir/%f %p&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#archive_cleanup_command = &#39;&#39;\t# command to execute at every restartpoint</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_end_command = &#39;&#39;\t# command to execute at completion of recovery</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Recovery Target -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Set these only when performing a targeted recovery.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_target = &#39;&#39;\t\t# &#39;immediate&#39; to end recovery as soon as a</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                                # consistent state is reached</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_target_name = &#39;&#39;\t# the named restore point to which recovery will proceed</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_target_time = &#39;&#39;\t# the time stamp up to which recovery will proceed</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_target_xid = &#39;&#39;\t# the transaction ID up to which recovery will proceed</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_target_lsn = &#39;&#39;\t# the WAL LSN up to which recovery will proceed</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_target_inclusive = on # Specifies whether to stop:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # just after the specified recovery target (on)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # just before the recovery target (off)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_target_timeline = &#39;latest&#39;\t# &#39;current&#39;, &#39;latest&#39;, or timeline ID</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_target_action = &#39;pause&#39;\t# &#39;pause&#39;, &#39;promote&#39;, &#39;shutdown&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># REPLICATION</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Sending Servers -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Set these on the primary and on any standby that will send replication data.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_wal_senders = 10\t\t# max number of walsender processes</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_replication_slots = 10\t# max number of replication slots</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_keep_size = 0\t\t# in megabytes; 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_slot_wal_keep_size = -1\t# in megabytes; -1 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_sender_timeout = 60s\t# in milliseconds; 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#track_commit_timestamp = off\t# collect timestamp of transaction commit</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Primary Server -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># These settings are ignored on a standby server.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#synchronous_standby_names = &#39;&#39;\t# standby servers that provide sync rep</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # method to choose sync standbys, number of sync standbys,</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # and comma-separated list of application_name</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                # from standby(s); &#39;*&#39; = all</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_defer_cleanup_age = 0\t# number of xacts by which cleanup is delayed</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Standby Servers -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># These settings are ignored on a primary server.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#primary_conninfo = &#39;&#39;\t\t\t# connection string to sending server</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#primary_slot_name = &#39;&#39;\t\t\t# replication slot on sending server</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#promote_trigger_file = &#39;&#39;\t\t# file name whose presence ends recovery</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#hot_standby = on\t\t\t# &quot;off&quot; disallows queries during recovery</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_standby_archive_delay = 30s\t# max delay before canceling queries</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # when reading WAL from archive;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # -1 allows indefinite delay</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_standby_streaming_delay = 30s\t# max delay before canceling queries</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # when reading streaming WAL;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # -1 allows indefinite delay</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_receiver_create_temp_slot = off\t# create temp slot if primary_slot_name</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # is not set</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_receiver_status_interval = 10s\t# send replies at least this often</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#hot_standby_feedback = off\t\t# send info from standby to prevent</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # query conflicts</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_receiver_timeout = 60s\t\t# time that receiver waits for</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # communication from primary</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # in milliseconds; 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#wal_retrieve_retry_interval = 5s\t# time to wait before retrying to</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # retrieve WAL after a failed attempt</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_min_apply_delay = 0\t\t# minimum delay for applying changes during recovery</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Subscribers -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># These settings are ignored on a publisher.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_logical_replication_workers = 4\t# taken from max_worker_processes</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_sync_workers_per_subscription = 2\t# taken from max_logical_replication_workers</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># QUERY TUNING</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Planner Method Configuration -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_async_append = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_bitmapscan = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_gathermerge = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_hashagg = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_hashjoin = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_incremental_sort = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_indexscan = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_indexonlyscan = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_material = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_memoize = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_mergejoin = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_nestloop = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_parallel_append = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_parallel_hash = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_partition_pruning = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_partitionwise_join = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_partitionwise_aggregate = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_seqscan = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_sort = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#enable_tidscan = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Planner Cost Constants -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#seq_page_cost = 1.0\t\t\t# measured on an arbitrary scale</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#random_page_cost = 4.0\t\t\t# same scale as above</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#cpu_tuple_cost = 0.01\t\t\t# same scale as above</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#cpu_index_tuple_cost = 0.005\t\t# same scale as above</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#cpu_operator_cost = 0.0025\t\t# same scale as above</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#parallel_setup_cost = 1000.0\t# same scale as above</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#parallel_tuple_cost = 0.1\t\t# same scale as above</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#min_parallel_table_scan_size = 8MB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#min_parallel_index_scan_size = 512kB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#effective_cache_size = 4GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#jit_above_cost = 100000\t\t# perform JIT compilation if available</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # and query more expensive than this;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # -1 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#jit_inline_above_cost = 500000\t\t# inline small functions if query is</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # more expensive than this; -1 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#jit_optimize_above_cost = 500000\t# use expensive JIT optimizations if</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # query is more expensive than this;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # -1 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Genetic Query Optimizer -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#geqo = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#geqo_threshold = 12</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#geqo_effort = 5\t\t\t# range 1-10</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#geqo_pool_size = 0\t\t\t# selects default based on effort</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#geqo_generations = 0\t\t\t# selects default based on effort</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#geqo_selection_bias = 2.0\t\t# range 1.5-2.0</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#geqo_seed = 0.0\t\t\t# range 0.0-1.0</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Other Planner Options -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#default_statistics_target = 100\t# range 1-10000</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#constraint_exclusion = partition\t# on, off, or partition</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#cursor_tuple_fraction = 0.1\t\t# range 0.0-1.0</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#from_collapse_limit = 8</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#jit = on\t\t\t\t# allow JIT compilation</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#join_collapse_limit = 8\t\t# 1 disables collapsing of explicit</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # JOIN clauses</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#plan_cache_mode = auto\t\t\t# auto, force_generic_plan or</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # force_custom_plan</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recursive_worktable_factor = 10.0\t# range 0.001-1000000</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># REPORTING AND LOGGING</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Where to Log -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_destination = &#39;stderr&#39;\t\t# Valid values are combinations of</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # stderr, csvlog, jsonlog, syslog, and</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # eventlog, depending on platform.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # csvlog and jsonlog require</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # logging_collector to be on.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># This is used when logging to stderr:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#logging_collector = off\t\t# Enable capturing of stderr, jsonlog,</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # and csvlog into log files. Required</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # to be on for csvlogs and jsonlogs.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># These are only used if logging_collector is on:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_directory = &#39;log&#39;\t\t\t# directory where log files are written,</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # can be absolute or relative to PGDATA</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_filename = &#39;postgresql-%Y-%m-%d_%H%M%S.log&#39;\t# log file name pattern,</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # can include strftime() escapes</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_file_mode = 0600\t\t\t# creation mode for log files,</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # begin with 0 to use octal notation</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_rotation_age = 1d\t\t\t# Automatic rotation of logfiles will</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # happen after that time.  0 disables.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_rotation_size = 10MB\t\t# Automatic rotation of logfiles will</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # happen after that much log output.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # 0 disables.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_truncate_on_rotation = off\t\t# If on, an existing log file with the</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # same name as the new log file will be</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # truncated rather than appended to.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # But such truncation only occurs on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # time-driven rotation, not on restarts</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # or size-driven rotation.  Default is</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # off, meaning append to existing files</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # in all cases.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># These are relevant when logging to syslog:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#syslog_facility = &#39;LOCAL0&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#syslog_ident = &#39;postgres&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#syslog_sequence_numbers = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#syslog_split_messages = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># This is only relevant when logging to eventlog (Windows):</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#event_source = &#39;PostgreSQL&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - When to Log -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_min_messages = warning\t\t# values in order of decreasing detail:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug5</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug3</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug2</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug1</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   info</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   notice</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   warning</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   error</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   log</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   fatal</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   panic</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_min_error_statement = error\t# values in order of decreasing detail:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug5</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug3</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug2</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug1</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   info</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   notice</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   warning</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   error</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   log</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   fatal</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   panic (effectively off)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_min_duration_statement = -1\t# -1 is disabled, 0 logs all statements</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # and their durations, &gt; 0 logs only</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # statements running at least this number</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # of milliseconds</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_min_duration_sample = -1\t\t# -1 is disabled, 0 logs a sample of statements</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # and their durations, &gt; 0 logs only a sample of</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # statements running at least this number</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # of milliseconds;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # sample fraction is determined by log_statement_sample_rate</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_statement_sample_rate = 1.0\t# fraction of logged statements exceeding</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # log_min_duration_sample to be logged;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # 1.0 logs all such statements, 0.0 never logs</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_transaction_sample_rate = 0.0\t# fraction of transactions whose statements</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # are logged regardless of their duration; 1.0 logs all</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # statements from all transactions, 0.0 never logs</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_startup_progress_interval = 10s\t# Time between progress updates for</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # long-running startup operations.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # 0 disables the feature, &gt; 0 indicates</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # the interval in milliseconds.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - What to Log -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#debug_print_parse = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#debug_print_rewritten = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#debug_print_plan = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#debug_pretty_print = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_autovacuum_min_duration = 10min\t# log autovacuum activity;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # -1 disables, 0 logs all actions and</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # their durations, &gt; 0 logs only</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # actions running at least this number</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # of milliseconds.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_checkpoints = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_connections = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_disconnections = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_duration = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_error_verbosity = default\t\t# terse, default, or verbose messages</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_hostname = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_line_prefix = &#39;%m [%p] &#39;\t\t# special values:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %a = application name</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %u = user name</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %d = database name</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %r = remote host and port</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %h = remote host</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %b = backend type</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %p = process ID</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %P = process ID of parallel group leader</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %t = timestamp without milliseconds</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %m = timestamp with milliseconds</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %n = timestamp with milliseconds (as a Unix epoch)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %Q = query ID (0 if none or not computed)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %i = command tag</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %e = SQL state</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %c = session ID</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %l = session line number</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %s = session start timestamp</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %v = virtual transaction ID</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %x = transaction ID (0 if none)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %q = stop here in non-session</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #        processes</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   %% = &#39;%&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # e.g. &#39;&lt;%u%%%d&gt; &#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_lock_waits = off\t\t\t# log lock waits &gt;= deadlock_timeout</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_recovery_conflict_waits = off\t# log standby recovery conflict waits</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # &gt;= deadlock_timeout</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_parameter_max_length = -1\t\t# when logging statements, limit logged</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # bind-parameter values to N bytes;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # -1 means print in full, 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_parameter_max_length_on_error = 0\t# when logging an error, limit logged</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # bind-parameter values to N bytes;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # -1 means print in full, 0 disables</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_statement = &#39;none&#39;\t\t\t# none, ddl, mod, all</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_replication_commands = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_temp_files = -1\t\t\t# log temporary files equal or larger</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # than the specified size in kilobytes;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # -1 disables, 0 logs all temp files</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">log_timezone = &#39;Asia/Shanghai&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># PROCESS TITLE</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#cluster_name = &#39;&#39;\t\t\t# added to process titles if nonempty</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#update_process_title = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># STATISTICS</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Cumulative Query and Index Statistics -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#track_activities = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#track_activity_query_size = 1024\t# (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#track_counts = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#track_io_timing = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#track_wal_io_timing = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#track_functions = none\t\t\t# none, pl, all</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#stats_fetch_consistency = cache</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Monitoring -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#compute_query_id = auto</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_statement_stats = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_parser_stats = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_planner_stats = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#log_executor_stats = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># AUTOVACUUM</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum = on\t\t\t# Enable autovacuum subprocess?  &#39;on&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # requires track_counts to also be on.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_max_workers = 3\t\t# max number of autovacuum subprocesses</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_naptime = 1min\t\t# time between autovacuum runs</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_vacuum_threshold = 50\t# min number of row updates before</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # vacuum</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_vacuum_insert_threshold = 1000\t# min number of row inserts</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # before vacuum; -1 disables insert</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # vacuums</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_analyze_threshold = 50\t# min number of row updates before</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # analyze</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_vacuum_scale_factor = 0.2\t# fraction of table size before vacuum</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_vacuum_insert_scale_factor = 0.2\t# fraction of inserts over table</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # size before insert vacuum</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_analyze_scale_factor = 0.1\t# fraction of table size before analyze</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_freeze_max_age = 200000000\t# maximum XID age before forced vacuum</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_multixact_freeze_max_age = 400000000\t# maximum multixact age</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # before forced vacuum</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_vacuum_cost_delay = 2ms\t# default vacuum cost delay for</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # autovacuum, in milliseconds;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # -1 means use vacuum_cost_delay</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#autovacuum_vacuum_cost_limit = -1\t# default vacuum cost limit for</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # autovacuum, -1 means use</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # vacuum_cost_limit</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># CLIENT CONNECTION DEFAULTS</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Statement Behavior -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#client_min_messages = notice\t\t# values in order of decreasing detail:</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug5</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug3</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug2</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   debug1</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   log</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   notice</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   warning</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   error</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#search_path = &#39;&quot;$user&quot;, public&#39;\t# schema names</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#row_security = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#default_table_access_method = &#39;heap&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#default_tablespace = &#39;&#39;\t\t# a tablespace name, &#39;&#39; uses the default</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#default_toast_compression = &#39;pglz&#39;\t# &#39;pglz&#39; or &#39;lz4&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#temp_tablespaces = &#39;&#39;\t\t\t# a list of tablespace names, &#39;&#39; uses</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # only default tablespace</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#check_function_bodies = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#default_transaction_isolation = &#39;read committed&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#default_transaction_read_only = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#default_transaction_deferrable = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#session_replication_role = &#39;origin&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#statement_timeout = 0\t\t\t# in milliseconds, 0 is disabled</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#lock_timeout = 0\t\t\t# in milliseconds, 0 is disabled</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#idle_in_transaction_session_timeout = 0\t# in milliseconds, 0 is disabled</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#idle_session_timeout = 0\t\t# in milliseconds, 0 is disabled</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_freeze_table_age = 150000000</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_freeze_min_age = 50000000</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_failsafe_age = 1600000000</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_multixact_freeze_table_age = 150000000</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_multixact_freeze_min_age = 5000000</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#vacuum_multixact_failsafe_age = 1600000000</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#bytea_output = &#39;hex&#39;\t\t\t# hex, escape</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#xmlbinary = &#39;base64&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#xmloption = &#39;content&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#gin_pending_list_limit = 4MB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Locale and Formatting -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">datestyle = &#39;iso, mdy&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#intervalstyle = &#39;postgres&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">timezone = &#39;Asia/Shanghai&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#timezone_abbreviations = &#39;Default&#39;     # Select the set of available time zone</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # abbreviations.  Currently, there are</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   Default</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   Australia (historical usage)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #   India</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # You can create your own file in</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # share/timezonesets/.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#extra_float_digits = 1\t\t\t# min -15, max 3; any value &gt;0 actually</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # selects precise output mode</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#client_encoding = sql_ascii\t\t# actually, defaults to database</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # encoding</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># These settings are initialized by initdb, but they can be changed.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">lc_messages = &#39;en_US.UTF-8&#39;\t\t\t# locale for system error message</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # strings</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">lc_monetary = &#39;en_US.UTF-8&#39;\t\t\t# locale for monetary formatting</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">lc_numeric = &#39;en_US.UTF-8&#39;\t\t\t# locale for number formatting</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">lc_time = &#39;en_US.UTF-8&#39;\t\t\t\t# locale for time formatting</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># default configuration for text search</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">default_text_search_config = &#39;pg_catalog.english&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Shared Library Preloading -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#local_preload_libraries = &#39;&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#session_preload_libraries = &#39;&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#shared_preload_libraries = &#39;&#39;\t# (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#jit_provider = &#39;llvmjit&#39;\t\t# JIT library to use</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Other Defaults -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#dynamic_library_path = &#39;$libdir&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#gin_fuzzy_search_limit = 0</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># LOCK MANAGEMENT</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#deadlock_timeout = 1s</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_locks_per_transaction = 64\t\t# min 10</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_pred_locks_per_transaction = 64\t# min 10</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_pred_locks_per_relation = -2\t# negative values mean</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (max_pred_locks_per_transaction</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    #  / -max_pred_locks_per_relation) - 1</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#max_pred_locks_per_page = 2            # min 0</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># VERSION AND PLATFORM COMPATIBILITY</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Previous PostgreSQL Versions -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#array_nulls = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#backslash_quote = safe_encoding\t# on, off, or safe_encoding</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#escape_string_warning = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#lo_compat_privileges = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#quote_all_identifiers = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#standard_conforming_strings = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#synchronize_seqscans = on</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># - Other Platforms and Clients -</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#transform_null_equals = off</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># ERROR HANDLING</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#exit_on_error = off\t\t\t# terminate session on any error?</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#restart_after_crash = on\t\t# reinitialize after backend crash?</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#data_sync_retry = off\t\t\t# retry or panic on failure to fsync</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # data?</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # (change requires restart)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#recovery_init_sync_method = fsync\t# fsync, syncfs (Linux 5.8+)</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># CONFIG FILE INCLUDES</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># These options allow settings to be loaded from files other than the</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># default postgresql.conf.  Note that these are directives, not variable</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># assignments, so they can usefully be given more than once.</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#include_dir = &#39;...&#39;\t\t\t# include files ending in &#39;.conf&#39; from</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">                    # a directory, e.g., &#39;conf.d&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#include_if_exists = &#39;...&#39;\t\t# include file only if it exists</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#include = &#39;...&#39;\t\t\t# include file</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># CUSTOMIZED OPTIONS</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">#------------------------------------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Add settings for extensions here</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># DB Version: 15</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># OS Type: linux</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># DB Type: web</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Total Memory (RAM): 16 GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># CPUs num: 4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"># Data Storage: hdd</span></span>\n<span class=\"line\"><span style=\"color: #24292e\"></span></span>\n<span class=\"line\"><span style=\"color: #24292e\">listen_addresses = &#39;*&#39;</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">port = 5432</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_connections = 200</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">shared_buffers = 4GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">effective_cache_size = 12GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">maintenance_work_mem = 1GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">checkpoint_completion_target = 0.9</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">wal_buffers = 16MB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">default_statistics_target = 100</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">random_page_cost = 4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">effective_io_concurrency = 2</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">work_mem = 10485kB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">min_wal_size = 1GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_wal_size = 4GB</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_worker_processes = 4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_parallel_workers_per_gather = 2</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_parallel_workers = 4</span></span>\n<span class=\"line\"><span style=\"color: #24292e\">max_parallel_maintenance_workers = 2</span></span></code></pre></div>","feature":true,"text":"源码编译安装 编译根目录地址：**&#x2F;opt**** ** 安装根目录地址：**&#x2F;data**** ** 操作步骤简介 下载源码 编译安装 ....","permalink":"/post/install-postgresql","photos":[],"count_time":{"symbolsCount":"40k","symbolsTime":"36 mins."},"categories":[{"name":"postgresql","slug":"postgresql","count":1,"path":"api/categories/postgresql.json"}],"tags":[{"name":"postgresql","slug":"postgresql","count":1,"path":"api/tags/postgresql.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">源码编译安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">操作步骤简介</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%BA%90%E7%A0%81%E4%B8%8B%E8%BD%BD%E8%A7%A3%E5%8E%8B\"><span class=\"toc-text\">源码下载解压</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">编译安装</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85contrib%E4%B8%8B%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">安装contrib下工具</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#PostgresSQL%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">PostgresSQL配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">环境变量配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">初始化数据库</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%94%AF%E6%8C%81%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE\"><span class=\"toc-text\">支持远程访问</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9B%B4%E6%96%B0%E7%94%A8%E6%88%B7%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81\"><span class=\"toc-text\">更新用户默认密码</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%97%A5%E5%BF%97%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">日志相关配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%81%9C%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">启停数据库</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%94%9F%E6%88%90\"><span class=\"toc-text\">生产环境配置生成</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B\"><span class=\"toc-text\">配置示例</span></a></li></ol></li></ol>","author":{"name":"Rod","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/rodzrk/PicGoRepo/img/202310240007987.jpg","link":"/","description":"","socials":{"github":"https://github.com/rodzrk","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"elasticsearch scripting module","uid":"395e80b0d84ad157141ca4de3ba9bafc","slug":"elasticsearch-scripting-module","date":"2020-06-17T14:43:56.000Z","updated":"2020-08-02T14:00:00.000Z","comments":true,"path":"api/articles/elasticsearch-scripting-module.json","keywords":null,"cover":"https://pic.nas.rodzrk.cn:28443/i/2023/10/24/653762cf95402.jpg","text":"ES脚本模块API兼容性问题在ES的API中是支持脚本的,但是在早期的版本,部分的API版本变化相对比较频繁,因此在不同版本之间是可能存在兼容性问题的,这篇文章...","permalink":"/post/elasticsearch-scripting-module","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"elasticsearch","slug":"elasticsearch","count":1,"path":"api/categories/elasticsearch.json"}],"tags":[{"name":"elasticsearch","slug":"elasticsearch","count":1,"path":"api/tags/elasticsearch.json"}],"author":{"name":"Rod","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/rodzrk/PicGoRepo/img/202310240007987.jpg","link":"/","description":"","socials":{"github":"https://github.com/rodzrk","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}